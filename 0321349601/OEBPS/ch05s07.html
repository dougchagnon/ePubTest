<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Summary of Part I</title><link rel="stylesheet" href="styles/convert.css" type="text/css"/></head><body><div class="section" title="Summary of Part I"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lev1sec7"/>Summary of Part I</h2></div></div></div>


<p><a id="iddle1024" class="indexterm"/><a id="iddle1025" class="indexterm"/><a id="iddle1415" class="indexterm"/><a id="iddle1464" class="indexterm"/><a id="iddle1657" class="indexterm"/><a id="iddle1658" class="indexterm"/><a id="iddle1898" class="indexterm"/><a id="iddle1961" class="indexterm"/><a id="iddle2009" class="indexterm"/><a id="iddle2352" class="indexterm"/><a id="iddle2505" class="indexterm"/><a id="iddle2707" class="indexterm"/><a id="iddle2847" class="indexterm"/><a id="iddle3074" class="indexterm"/><a id="iddle4410" class="indexterm"/><a id="iddle4411" class="indexterm"/>We’ve covered a lot of material so far! The following “concurrency cheat sheet” summarizes the main concepts and rules presented in <a class="link" href="pt01.html" title="Part I. Fundamentals">Part I</a>.</p>
<div class="sidebar"><a id="ch05sb04"/><p class="title"><b/></p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="emphasis"><em>It’s the mutable state, stupid.</em></span> <sup>[<a id="ch05fn06" href="#ftn.ch05fn06" class="footnote">1</a>]</sup></p>
<p>All concurrency issues boil down to coordinating access to mutable state. The less mutable state, the easier it is to ensure thread safety.</p></li><li class="listitem"><p><span class="emphasis"><em>Make fields final unless they need to be mutable.</em></span></p></li><li class="listitem"><p><span class="emphasis"><em>Immutable objects are automatically thread-safe.</em></span></p>
<p>Immutable objects simplify concurrent programming tremendously. They are simpler and safer, and can be shared freely without locking or defensive copying.</p></li><li class="listitem"><p><span class="emphasis"><em>Encapsulation makes it practical to manage the complexity.</em></span></p>
<p>You could write a thread-safe program with all data stored in global variables, but why would you want to? Encapsulating data within objects makes it easier to preserve their invariants; encapsulating synchronization within objects makes it easier to comply with their synchronization policy.</p></li><li class="listitem"><p><span class="emphasis"><em>Guard each mutable variable with a lock.</em></span></p></li><li class="listitem"><p><span class="emphasis"><em>Guard all variables in an invariant with the same lock.</em></span></p></li><li class="listitem"><p><span class="emphasis"><em>Hold locks for the duration of compound actions.</em></span></p></li><li class="listitem"><p><span class="emphasis"><em>A program that accesses a mutable variable from multiple threads without synchronization is a broken program.</em></span></p></li><li class="listitem"><p><span class="emphasis"><em>Don’t rely on clever reasoning about why you don’t need to synchronize.</em></span></p></li><li class="listitem"><p><span class="emphasis"><em>Include thread safety in the design process—or explicitly document that your class is not thread-safe.</em></span></p></li><li class="listitem"><p><span class="emphasis"><em>Document your synchronization policy.</em></span></p></li></ul></div>
</div>
<div class="footnotes"><br/><hr/><div class="footnote"><p><sup>[<a id="ftn.ch05fn06" href="#ch05fn06" class="para">1</a>] </sup>During the 1992 U.S. presidential election, electoral strategist James Carville hung a sign in Bill Clinton’s campaign headquarters reading “The economy, stupid”, to keep the campaign on message.</p></div></div></div></body></html>
